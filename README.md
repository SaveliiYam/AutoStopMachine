# AutoStopMachine

На моём предприятии, стоят в ряд упаковочные машины.
Ну и вот находятся они в уупадочном состоянии. Детали, проходящие по ним, иногда не попадают на конвейер.
Поэтому мне нужно было придумать систему, которая останавливает станок при отсутсвии детали.

## Структура
- Присутствует индуктивный датчик, который срабатвает на каждое звено цепи;
- Присутствует датчик освещенности и лазер, который реагирует на наличие детали на конвейре;
- Используется микроконтроллер Arduino;
- В репозитории приведена электрическая схема.

## Библиотеки
- InductiveSensor (написал сам, есть в репозитории)
- OpticSensor (написал сам, есть в репозитории)
- MyRelay (написал сам, есть в репозитории)

## Функции, которые я использовал:
```cpp
bool targetMetall(); //Выведет true, если индуктивный датчик поймал звено цепи
bool letDelay(); 
bool let(); //Эта функция и выше выводят true, если оптический датчик видит перед собой деталь
void on_100ms();// На 100 миллисек. подает напряжение на пин контроллера (в моей программе останавливает станок)
```

## Программа
```cpp
#include <OpticSensor.h>
#include <InductiveSensor.h>
#include <MyRelay.h>
OpticSensor opticSensor(3); //пин оптического датчика 
InductiveSensor inductiveSensor(2); пин индуктивного датчика
MyRelay stopStan(13); //пин реле, который останавливает станок

void setup() {}

void loop() {
  if(inductiveSensor.targetMetall() and !opticSensor.letDelay()){ //если индуктивный датчик среагировал и детали нет
    stopStan.on_100ms();
  }
}
```
